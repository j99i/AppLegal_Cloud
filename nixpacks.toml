[phases.setup]
nixPkgs = [
    "python312",
    "gcc",
    "glib",           # La medicina principal
    "pango",
    "harfbuzz",
    "cairo",
    "gdk-pixbuf",
    "gobject-introspection",
    "libffi",
    "shared-mime-info",
    "libxml2",
    "libxslt",
    "fontconfig",     # Extra para fuentes
    "freetype",       # Extra para fuentes
    "wget"            # Truco para romper la cach√©
]

[phases.build]
cmds = ["python manage.py collectstatic --noinput"]

[start]
cmd = "python manage.py migrate && python manage.py createsuperuser --noinput || true && gunicorn core.wsgi:application --bind 0.0.0.0:$PORT"