{% extends 'base.html' %}
{% block content %}
<div class="max-w-6xl mx-auto animate__animated animate__fadeIn">
    <div class="flex justify-between items-center mb-8">
        <div><h2 class="text-3xl font-black text-[#2D1B4B]">Biblioteca de Formatos</h2><p class="text-gray-500">Cliente: <b>{{ cliente.nombre_empresa }}</b></p></div>
        {% if user.rol == 'admin' %}
        <div class="flex gap-2">
            <a href="{% url 'diseñador_plantillas' %}" class="bg-white border border-gray-300 text-gray-700 px-5 py-2 rounded-xl font-bold text-xs shadow-sm hover:bg-gray-50 flex items-center"><i class="fas fa-pen-nib mr-2"></i> DISEÑADOR</a>
            <button onclick="document.getElementById('modal-plantilla').classList.remove('hidden')" class="bg-[#A855F7] text-white px-5 py-2 rounded-xl font-bold text-xs shadow-lg hover:bg-[#9333ea] transition-all"><i class="fas fa-plus mr-2"></i> SUBIR DOCX</button>
        </div>
        {% endif %}
    </div>
    <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6">{% for p in plantillas %}<form method="GET" action="" class="group h-full"><input type="hidden" name="plantilla_id" value="{{ p.id }}"><button type="submit" class="w-full text-left bg-white p-6 rounded-[2rem] border border-gray-100 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all h-full flex flex-col justify-between relative overflow-hidden"><div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20"><i class="fas fa-file-contract text-8xl text-[#2D1B4B]"></i></div><div class="relative z-10"><div class="w-12 h-12 bg-purple-50 rounded-xl flex items-center justify-center mb-4"><i class="fas fa-file-word text-[#2D1B4B] text-xl"></i></div><h3 class="font-bold text-[#2D1B4B] text-lg leading-tight mb-2">{{ p.nombre }}</h3><p class="text-[10px] text-gray-400 uppercase">Subida: {{ p.fecha_subida|date:"d M Y" }}</p></div><div class="mt-6 flex items-center text-[#A855F7] font-black text-xs relative z-10">SELECCIONAR <i class="fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"></i></div></button></form>{% empty %}<div class="col-span-full py-20 text-center text-gray-400"><i class="fas fa-folder-open text-5xl mb-4 opacity-30"></i><p>No hay plantillas disponibles.</p></div>{% endfor %}</div>
</div>
{% endblock %}